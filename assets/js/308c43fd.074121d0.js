"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[8896],{27856:(r,e,n)=>{n.d(e,{I:()=>s,V:()=>o});const o="https://iapkit.com",s="https://www.hyo.dev/api/ad-banner/cmjf0l2460003249hfyh029dm"},28453:(r,e,n)=>{n.d(e,{R:()=>t,x:()=>i});var o=n(96540);const s={},a=o.createContext(s);function t(r){const e=o.useContext(a);return o.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function i(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(s):r.components||s:t(r.components),o.createElement(a.Provider,{value:e},r.children)}},35159:(r,e,n)=>{n.d(e,{A:()=>i});var o=n(96540),s=n(86025),a=n(27856),t=n(74848);function i({className:r="iapkit-banner",style:e}){const n=(0,s.Ay)("/img/iapkit-banner.gif"),i=(0,o.useCallback)(r=>{fetch(a.I,{method:"POST",mode:"no-cors"}).catch(()=>{})},[]);return(0,t.jsx)("div",{className:r,style:{marginTop:0,marginBottom:12,textAlign:"center",...e},children:(0,t.jsx)("a",{href:a.V,target:"_blank",rel:"noopener noreferrer",onClick:i,style:{display:"inline-block",textDecoration:"none"},children:(0,t.jsx)("img",{src:n,alt:"IapKit - In-App Purchase Validation Service",style:{border:"none",display:"block"}})})})}},48848:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"api/error-handling","title":"Error Handling","description":"All methods can throw errors that should be handled appropriately. Use the PurchaseError type and helper functions for consistent, cross\u2011platform error information.","source":"@site/docs/api/error-handling.md","sourceDirName":"api","slug":"/api/error-handling","permalink":"/react-native-iap/docs/api/error-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/docs/api/error-handling.md","tags":[],"version":"current","frontMatter":{"title":"Error Handling","sidebar_label":"Error Handling"},"sidebar":"tutorialSidebar","previous":{"title":"useIAP Hook","permalink":"/react-native-iap/docs/api/use-iap"},"next":{"title":"Error Codes","permalink":"/react-native-iap/docs/api/error-codes"}}');var s=n(74848),a=n(28453),t=n(35159);const i={title:"Error Handling",sidebar_label:"Error Handling"},c="Error Handling",l={},d=[{value:"Error Types",id:"error-types",level:2},{value:"PurchaseError",id:"purchaseerror",level:3},{value:"ErrorCode Enum",id:"errorcode-enum",level:3},{value:"Error Codes",id:"error-codes",level:2}];function h(r){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...r.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,s.jsx)(t.A,{}),"\n",(0,s.jsxs)(e.p,{children:["All methods can throw errors that should be handled appropriately. Use the ",(0,s.jsx)(e.code,{children:"PurchaseError"})," type and helper functions for consistent, cross\u2011platform error information."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"import {\n  PurchaseError,\n  requestPurchase,\n  isUserCancelledError,\n  isNetworkError,\n  getUserFriendlyErrorMessage,\n  ErrorCode,\n} from 'react-native-iap';\n\ntry {\n  await requestPurchase({\n    request: {\n      apple: {sku: 'product_id'},\n      google: {skus: ['product_id']},\n    },\n    type: 'in-app',\n  });\n} catch (error) {\n  // Check for user cancellation\n  if (isUserCancelledError(error)) {\n    console.log('User cancelled purchase');\n    return;\n  }\n\n  // Check for network errors\n  if (isNetworkError(error)) {\n    console.log('Network error, please try again');\n    return;\n  }\n\n  // Get user-friendly error message\n  const friendlyMessage = getUserFriendlyErrorMessage(error);\n  console.error('Purchase failed:', friendlyMessage);\n\n  // Or access error details directly\n  if (error instanceof PurchaseError) {\n    console.error(`Error code: ${error.code}, Message: ${error.message}`);\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"error-types",children:"Error Types"}),"\n",(0,s.jsx)(e.h3,{id:"purchaseerror",children:"PurchaseError"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.code,{children:"PurchaseError"})," interface extends the standard ",(0,s.jsx)(e.code,{children:"Error"})," class with additional purchase-specific properties:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"interface PurchaseError extends Error {\n  code?: ErrorCode;\n  responseCode?: number;\n  debugMessage?: string;\n  productId?: string;\n  platform?: IapPlatform;\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"errorcode-enum",children:"ErrorCode Enum"}),"\n",(0,s.jsxs)(e.p,{children:["Use the ",(0,s.jsx)(e.code,{children:"ErrorCode"})," enum for type-safe error code comparisons:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:"import {ErrorCode} from 'react-native-iap';\n\nif (error instanceof PurchaseError && error.code === ErrorCode.UserCancelled) {\n  // Handle user cancellation\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,s.jsx)(e.p,{children:"For the complete list of error codes and their meanings, see the reference below."}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"./error-codes",children:"Error Codes"})}),"\n"]})]})}function p(r={}){const{wrapper:e}={...(0,a.R)(),...r.components};return e?(0,s.jsx)(e,{...r,children:(0,s.jsx)(h,{...r})}):h(r)}}}]);