"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[363],{27856:(e,n,i)=>{i.d(n,{I:()=>r,V:()=>l});const l="https://iapkit.com",r="https://www.hyo.dev/api/ad-banner/cmjf0l2460003249hfyh029dm"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var l=i(96540);const r={},t=l.createContext(r);function o(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),l.createElement(t.Provider,{value:n},e.children)}},35159:(e,n,i)=>{i.d(n,{A:()=>a});var l=i(96540),r=i(86025),t=i(27856),o=i(74848);function a({className:e="iapkit-banner",style:n}){const i=(0,r.Ay)("/img/iapkit-banner.gif"),a=(0,l.useCallback)(e=>{fetch(t.I,{method:"POST",mode:"no-cors"}).catch(()=>{})},[]);return(0,o.jsx)("div",{className:e,style:{marginTop:0,marginBottom:12,textAlign:"center",...n},children:(0,o.jsx)("a",{href:t.V,target:"_blank",rel:"noopener noreferrer",onClick:a,style:{display:"inline-block",textDecoration:"none"},children:(0,o.jsx)("img",{src:i,alt:"IapKit - In-App Purchase Validation Service",style:{border:"none",display:"block"}})})})}},47557:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>g,frontMatter:()=>a,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"examples/alternative-billing","title":"Alternative Billing Example","description":"Use alternative billing to redirect users to external payment systems or offer payment choices alongside platform billing.","source":"@site/docs/examples/alternative-billing.md","sourceDirName":"examples","slug":"/examples/alternative-billing","permalink":"/react-native-iap/docs/examples/alternative-billing","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/docs/examples/alternative-billing.md","tags":[],"version":"current","sidebarPosition":4.5,"frontMatter":{"title":"Alternative Billing Example","sidebar_label":"Alternative Billing","sidebar_position":4.5},"sidebar":"tutorialSidebar","previous":{"title":"Offer Code","permalink":"/react-native-iap/docs/examples/offer-code"},"next":{"title":"Migration v13 \u2192 v14.6","permalink":"/react-native-iap/docs/guides/migration-v13-to-v14"}}');var r=i(74848),t=i(28453),o=i(35159);const a={title:"Alternative Billing Example",sidebar_label:"Alternative Billing",sidebar_position:4.5},s="Alternative Billing",c={},d=[{value:"Android - Billing Programs API (Recommended)",id:"android---billing-programs-api-recommended",level:2},{value:"Billing Program Types",id:"billing-program-types",level:3},{value:"Launch Modes",id:"launch-modes",level:3},{value:"iOS - External Purchase URL",id:"ios---external-purchase-url",level:2},{value:"Important Notes",id:"important-notes",level:3},{value:"Android - Alternative Billing Only (Legacy)",id:"android---alternative-billing-only-legacy",level:2},{value:"Flow Steps",id:"flow-steps",level:3},{value:"Android - User Choice Billing",id:"android---user-choice-billing",level:2},{value:"Selection Dialog",id:"selection-dialog",level:3},{value:"Complete Cross-Platform Example",id:"complete-cross-platform-example",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Billing Programs API (Recommended)",id:"billing-programs-api-recommended",level:3},{value:"Available Programs",id:"available-programs",level:4},{value:"Option 1: Via initConnection Config (Recommended)",id:"option-1-via-initconnection-config-recommended",level:4},{value:"Option 2: Via useIAP Hook",id:"option-2-via-useiap-hook",level:4},{value:"Option 3: Manual Setup (Before initConnection)",id:"option-3-manual-setup-before-initconnection",level:4},{value:"Legacy API (Deprecated)",id:"legacy-api-deprecated",level:3},{value:"Testing",id:"testing",level:2},{value:"iOS",id:"ios",level:3},{value:"Android",id:"android",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"See Also",id:"see-also",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"alternative-billing",children:"Alternative Billing"})}),"\n",(0,r.jsx)(o.A,{}),"\n",(0,r.jsx)(n.p,{children:"Use alternative billing to redirect users to external payment systems or offer payment choices alongside platform billing."}),"\n",(0,r.jsx)(n.p,{children:"View the full example source:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["GitHub: ",(0,r.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/blob/main/example/screens/AlternativeBilling.tsx",children:"AlternativeBilling.tsx"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"android---billing-programs-api-recommended",children:"Android - Billing Programs API (Recommended)"}),"\n",(0,r.jsx)(n.admonition,{title:"New in 14.6.0",type:"tip",children:(0,r.jsx)(n.p,{children:"The Billing Programs API is the recommended approach for apps using Google Play Billing Library 8.2.0+."})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import {Platform, Button, Alert} from 'react-native';\nimport {\n  enableBillingProgramAndroid,\n  isBillingProgramAvailableAndroid,\n  createBillingProgramReportingDetailsAndroid,\n  launchExternalLinkAndroid,\n  initConnection,\n} from 'react-native-iap';\n\nfunction BillingProgramsExample() {\n  const handleExternalOffer = async () => {\n    if (Platform.OS !== 'android') return;\n\n    try {\n      // Step 1: Enable billing program (call before initConnection in your app)\n      // enableBillingProgramAndroid('external-offer');\n      // await initConnection();\n\n      // Step 2: Check availability\n      const {isAvailable} = await isBillingProgramAvailableAndroid('external-offer');\n      if (!isAvailable) {\n        Alert.alert('Not Available', 'External offers not available for this user');\n        return;\n      }\n\n      // Step 3: Launch external link\n      const success = await launchExternalLinkAndroid({\n        billingProgram: 'external-offer',\n        launchMode: 'launch-in-external-browser-or-app',\n        linkType: 'link-to-digital-content-offer',\n        linkUri: 'https://your-website.com/purchase',\n      });\n\n      if (success) {\n        // Step 4: Get reporting token after external purchase\n        const details = await createBillingProgramReportingDetailsAndroid('external-offer');\n\n        // Step 5: Report to Google Play backend (within 24 hours)\n        // await yourBackend.reportToGooglePlay(details.externalTransactionToken);\n\n        Alert.alert('Success', 'External link launched successfully');\n      }\n    } catch (error: any) {\n      Alert.alert('Error', error.message);\n    }\n  };\n\n  return <Button title=\"External Offer\" onPress={handleExternalOffer} />;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"billing-program-types",children:"Billing Program Types"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"external-content-link"})}),": For linking to external content outside the app"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"external-offer"})}),": For offering digital content purchases outside Google Play"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"launch-modes",children:"Launch Modes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"launch-in-external-browser-or-app"})}),": Google Play launches the URL"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"caller-will-launch-link"})}),": Your app handles launching the URL after Play returns"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"ios---external-purchase-url",children:"iOS - External Purchase URL"}),"\n",(0,r.jsx)(n.p,{children:"Redirect users to an external website for payment (iOS 16.0+):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import {Platform, Button, Alert} from 'react-native';\nimport {requestPurchase, type Product} from 'react-native-iap';\n\nfunction IosAlternativeBilling({product}: {product: Product}) {\n  const handlePurchase = async () => {\n    if (Platform.OS !== 'ios') return;\n\n    try {\n      await requestPurchase({\n        request: {\n          ios: {\n            sku: product.productId,\n            quantity: 1,\n          },\n        },\n        type: 'in-app',\n        useAlternativeBilling: true,\n      });\n\n      Alert.alert(\n        'Redirected',\n        'Complete purchase on the external website. You will be redirected back to the app.',\n      );\n    } catch (error: any) {\n      if (error.code !== 'user-cancelled') {\n        Alert.alert('Error', error.message);\n      }\n    }\n  };\n\n  return <Button title=\"Buy (External URL)\" onPress={handlePurchase} />;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"important-notes",children:"Important Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"iOS 16.0+ Required"}),": External URLs only work on iOS 16.0 and later"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration Required"}),": External URLs must be configured in your Expo config or React Native CLI project (see ",(0,r.jsx)(n.a,{href:"/docs/guides/alternative-billing",children:"Alternative Billing Guide"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No Callback"}),": ",(0,r.jsx)(n.code,{children:"onPurchaseSuccess"})," will NOT fire when using external URLs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deep Linking"}),": Implement deep linking to return users to your app"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"android---alternative-billing-only-legacy",children:"Android - Alternative Billing Only (Legacy)"}),"\n",(0,r.jsx)(n.admonition,{title:"Legacy API",type:"warning",children:(0,r.jsxs)(n.p,{children:["This API is for apps using older Billing Library versions (pre-8.2.0). For new implementations, use the ",(0,r.jsx)(n.a,{href:"#android---billing-programs-api-recommended",children:"Billing Programs API"})," instead."]})}),"\n",(0,r.jsx)(n.p,{children:"Manual 3-step flow for alternative billing only:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import {Platform, Button, Alert} from 'react-native';\nimport {\n  checkAlternativeBillingAvailabilityAndroid,\n  showAlternativeBillingDialogAndroid,\n  createAlternativeBillingTokenAndroid,\n  type Product,\n} from 'react-native-iap';\n\nfunction AndroidAlternativeBillingOnly({product}: {product: Product}) {\n  const handlePurchase = async () => {\n    if (Platform.OS !== 'android') return;\n\n    try {\n      // Step 1: Check availability\n      const isAvailable = await checkAlternativeBillingAvailabilityAndroid();\n      if (!isAvailable) {\n        Alert.alert('Error', 'Alternative billing not available');\n        return;\n      }\n\n      // Step 2: Show information dialog\n      const userAccepted = await showAlternativeBillingDialogAndroid();\n      if (!userAccepted) {\n        console.log('User declined');\n        return;\n      }\n\n      // Step 2.5: Process payment with your payment system\n      // ... your payment processing logic here ...\n      console.log('Processing payment...');\n\n      // Step 3: Create reporting token (after successful payment)\n      const token = await createAlternativeBillingTokenAndroid(\n        product.productId,\n      );\n      console.log('Token created:', token);\n\n      // Step 4: Report token to Google Play backend within 24 hours\n      // await reportToGoogleBackend(token);\n\n      Alert.alert('Success', 'Alternative billing completed (DEMO)');\n    } catch (error: any) {\n      Alert.alert('Error', error.message);\n    }\n  };\n\n  return <Button title=\"Buy (Alternative Only)\" onPress={handlePurchase} />;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"flow-steps",children:"Flow Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check availability"})," - Verify alternative billing is enabled"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Show info dialog"})," - Display Google's information dialog"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Process payment"})," - Handle payment with your system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create token"})," - Generate reporting token"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Report to Google"})," - Send token to Google within 24 hours"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"android---user-choice-billing",children:"Android - User Choice Billing"}),"\n",(0,r.jsx)(n.admonition,{title:"Updated in v14.7.0",type:"tip",children:(0,r.jsxs)(n.p,{children:["User Choice Billing is now configured via ",(0,r.jsx)(n.code,{children:"enableBillingProgramAndroid: 'user-choice-billing'"})," instead of the deprecated ",(0,r.jsx)(n.code,{children:"alternativeBillingModeAndroid"}),"."]})}),"\n",(0,r.jsx)(n.p,{children:"Let users choose between Google Play and alternative billing:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import {Platform, Button} from 'react-native';\nimport {\n  useIAP,\n  requestPurchase,\n  userChoiceBillingListenerAndroid,\n  type Product,\n} from 'react-native-iap';\n\nfunction AndroidUserChoiceBilling({product}: {product: Product}) {\n  // Initialize with user choice billing mode (Recommended)\n  const {connected} = useIAP({\n    enableBillingProgramAndroid: 'user-choice-billing',\n    onPurchaseSuccess: (purchase) => {\n      // Fires if user selects Google Play\n      console.log('Google Play purchase:', purchase);\n    },\n    onUserChoiceBillingAndroid: (details) => {\n      // Fires if user selects alternative billing\n      console.log('User chose alternative billing');\n      console.log('Products:', details.products);\n      console.log('Token:', details.externalTransactionToken);\n\n      // Report token to Google Play backend within 24 hours\n      // await reportToGooglePlay(details.externalTransactionToken);\n    },\n  });\n\n  const handlePurchase = async () => {\n    if (Platform.OS !== 'android' || !connected) return;\n\n    try {\n      // Google will show selection dialog automatically\n      await requestPurchase({\n        request: {\n          google: {\n            skus: [product.productId],\n          },\n        },\n        type: 'in-app',\n      });\n\n      // If user selects Google Play: onPurchaseSuccess fires\n      // If user selects alternative: onUserChoiceBillingAndroid fires\n    } catch (error: any) {\n      console.error('Purchase error:', error);\n    }\n  };\n\n  return <Button title=\"Buy (User Choice)\" onPress={handlePurchase} />;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"selection-dialog",children:"Selection Dialog"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Google shows automatic selection dialog"}),"\n",(0,r.jsx)(n.li,{children:"User chooses: Google Play (30% fee) or Alternative (lower fee)"}),"\n",(0,r.jsx)(n.li,{children:"Different callbacks based on user choice"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"complete-cross-platform-example",children:"Complete Cross-Platform Example"}),"\n",(0,r.jsxs)(n.p,{children:["For a fully working cross-platform implementation, see ",(0,r.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/blob/main/example/screens/AlternativeBilling.tsx",children:"AlternativeBilling.tsx"})," in the example app."]}),"\n",(0,r.jsx)(n.p,{children:"The complete example includes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"iOS"}),": External purchase URL handling with notice sheets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Android Billing Programs"})," (Recommended): New API for Billing Library 8.2.0+"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Android Alternative Only"})," (Legacy): 3-step manual flow with token generation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Android User Choice"})," (Legacy): Automatic selection dialog handling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mode Switching"}),": Toggle between alternative billing modes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error Handling"}),": Comprehensive error handling for all platforms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"UI Integration"}),": Product list with purchase buttons"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"billing-programs-api-recommended",children:"Billing Programs API (Recommended)"}),"\n",(0,r.jsx)(n.admonition,{title:"New in v14.7.0",type:"tip",children:(0,r.jsxs)(n.p,{children:["All billing programs are now unified under ",(0,r.jsx)(n.code,{children:"enableBillingProgramAndroid"}),". This includes the new ",(0,r.jsx)(n.code,{children:"user-choice-billing"})," option."]})}),"\n",(0,r.jsx)(n.h4,{id:"available-programs",children:"Available Programs"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Program"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"external-offer"})}),(0,r.jsx)(n.td,{children:"External offers for digital content purchases"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"external-content-link"})}),(0,r.jsx)(n.td,{children:"Links to external content outside the app"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user-choice-billing"})}),(0,r.jsx)(n.td,{children:"User choice between Google Play and alternative billing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"external-payments"})}),(0,r.jsx)(n.td,{children:"Side-by-side payment choice (Japan only, 8.3.0+)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"option-1-via-initconnection-config-recommended",children:"Option 1: Via initConnection Config (Recommended)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import {initConnection} from 'react-native-iap';\n\nawait initConnection({\n  enableBillingProgramAndroid: 'user-choice-billing',\n});\n"})}),"\n",(0,r.jsx)(n.h4,{id:"option-2-via-useiap-hook",children:"Option 2: Via useIAP Hook"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import {useIAP} from 'react-native-iap';\n\nconst {connected} = useIAP({\n  enableBillingProgramAndroid: 'user-choice-billing',\n});\n"})}),"\n",(0,r.jsx)(n.h4,{id:"option-3-manual-setup-before-initconnection",children:"Option 3: Manual Setup (Before initConnection)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import {enableBillingProgramAndroid, initConnection} from 'react-native-iap';\n\n// Enable before initConnection\nenableBillingProgramAndroid('external-offer');\nawait initConnection();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"legacy-api-deprecated",children:"Legacy API (Deprecated)"}),"\n",(0,r.jsxs)(n.admonition,{title:"Deprecated in v14.7.0",type:"warning",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"alternativeBillingModeAndroid"})," is deprecated. Use ",(0,r.jsx)(n.code,{children:"enableBillingProgramAndroid"})," instead:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'user-choice'"})," \u2192 ",(0,r.jsx)(n.code,{children:"'user-choice-billing'"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"'alternative-only'"})," \u2192 ",(0,r.jsx)(n.code,{children:"'external-offer'"})]}),"\n"]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// DEPRECATED\nawait initConnection({\n  alternativeBillingModeAndroid: 'alternative-only',\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Test on iOS 16.0+ devices"}),"\n",(0,r.jsx)(n.li,{children:"Verify external URL opens in Safari"}),"\n",(0,r.jsx)(n.li,{children:"Test deep link return flow"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Requires Google Play Billing Library 8.2.0+ for Billing Programs API"}),"\n",(0,r.jsx)(n.li,{children:"Configure external offers/links in Google Play Console"}),"\n",(0,r.jsxs)(n.li,{children:["Test program availability with ",(0,r.jsx)(n.code,{children:"isBillingProgramAvailableAndroid()"})]}),"\n",(0,r.jsxs)(n.li,{children:["Verify token generation with ",(0,r.jsx)(n.code,{children:"createBillingProgramReportingDetailsAndroid()"})]}),"\n",(0,r.jsx)(n.li,{children:"For legacy APIs: Configure alternative billing in Google Play Console"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backend Validation"})," - Always validate on server"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clear UI"})," - Show users they're leaving the app"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error Handling"})," - Handle all error cases"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token Reporting"})," - Report within 24 hours (Android)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deep Linking"})," - Essential for iOS return flow"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/guides/alternative-billing",children:"Alternative Billing Guide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/guides/error-handling",children:"Error Handling"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/examples/purchase-flow",children:"Purchase Flow"})}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);