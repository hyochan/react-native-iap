"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[6943],{27856:(e,i,n)=>{n.d(i,{I:()=>r,V:()=>s});const s="https://iapkit.com",r="https://www.hyo.dev/api/ad-banner/cmjf0l2460003249hfyh029dm"},28453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>o});var s=n(96540);const r={},c=s.createContext(r);function t(e){const i=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(c.Provider,{value:i},e.children)}},35159:(e,i,n)=>{n.d(i,{A:()=>o});var s=n(96540),r=n(86025),c=n(27856),t=n(74848);function o({className:e="iapkit-banner",style:i}){const n=(0,r.Ay)("/img/iapkit-banner.gif"),o=(0,s.useCallback)(e=>{fetch(c.I,{method:"POST",mode:"no-cors"}).catch(()=>{})},[]);return(0,t.jsx)("div",{className:e,style:{marginTop:0,marginBottom:12,textAlign:"center",...i},children:(0,t.jsx)("a",{href:c.V,target:"_blank",rel:"noopener noreferrer",onClick:o,style:{display:"inline-block",textDecoration:"none"},children:(0,t.jsx)("img",{src:n,alt:"IapKit - In-App Purchase Validation Service",style:{border:"none",display:"block"}})})})}},75489:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"api/methods/core-methods","title":"Core Methods","description":"This section covers the core methods available in react-native-iap for managing in-app purchases.","source":"@site/docs/api/methods/core-methods.md","sourceDirName":"api/methods","slug":"/api/methods/core-methods","permalink":"/react-native-iap/docs/api/methods/core-methods","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/docs/api/methods/core-methods.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Core Methods","sidebar_label":"Core Methods","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Types","permalink":"/react-native-iap/docs/api/types"},"next":{"title":"Unified APIs","permalink":"/react-native-iap/docs/api/methods/unified-apis"}}');var r=n(74848),c=n(28453),t=n(35159);const o={title:"Core Methods",sidebar_label:"Core Methods",sidebar_position:1},d="Core Methods",l={},a=[{value:"API Categories",id:"api-categories",level:2},{value:"Unified APIs",id:"unified-apis",level:3},{value:"Listeners",id:"listeners",level:3},{value:"iOS Specific",id:"ios-specific",level:3},{value:"Android Specific",id:"android-specific",level:3},{value:"Removed APIs",id:"removed-apis",level:2}];function h(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"core-methods",children:"Core Methods"})}),"\n",(0,r.jsx)(t.A,{}),"\n",(0,r.jsx)(i.p,{children:"This section covers the core methods available in react-native-iap for managing in-app purchases."}),"\n",(0,r.jsx)(i.p,{children:"Note: react-native-iap aligns with the OpenIAP API surface. For canonical cross-SDK API docs, see:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://www.openiap.dev/docs/apis",children:"OpenIAP APIs"})}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"api-categories",children:"API Categories"}),"\n",(0,r.jsx)(i.h3,{id:"unified-apis",children:(0,r.jsx)(i.a,{href:"./unified-apis",children:"Unified APIs"})}),"\n",(0,r.jsx)(i.p,{children:"Cross\u2011platform methods that work on both iOS and Android:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"initConnection()"})," \u2014 Initialize the store connection"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"endConnection()"})," \u2014 End the store connection and cleanup"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"fetchProducts()"})," \u2014 Fetch product and subscription metadata"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"requestPurchase()"})," \u2014 Start a purchase for products or subscriptions"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"finishTransaction()"})," \u2014 Complete a transaction after validation"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getAvailablePurchases()"})," \u2014 Restore non\u2011consumables and subscriptions"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"deepLinkToSubscriptions()"})," \u2014 Open native subscription management UI"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getStorefront()"})," \u2014 Get current storefront country code"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"hasActiveSubscriptions()"})," \u2014 Check if user has active subscriptions"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"verifyPurchaseWithProvider()"})," \u2014 Verify purchase with external provider (e.g., IAPKit)"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"listeners",children:(0,r.jsx)(i.a,{href:"./listeners",children:"Listeners"})}),"\n",(0,r.jsx)(i.p,{children:"Event listeners for purchase updates and errors:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"purchaseUpdatedListener"})," \u2014 Listen for successful purchases"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"purchaseErrorListener"})," \u2014 Listen for purchase errors"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"promotedProductListener"})," \u2014 Listen for promoted products (iOS)"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"ios-specific",children:(0,r.jsx)(i.a,{href:"./ios-specific",children:"iOS Specific"})}),"\n",(0,r.jsx)(i.p,{children:"StoreKit and App Store specific capabilities:"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Alternative Billing (iOS 16.0+):"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"canPresentExternalPurchaseNoticeIOS()"})," \u2014 Check if notice sheet is available (iOS 18.2+)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"presentExternalPurchaseNoticeSheetIOS()"})," \u2014 Present external purchase notice (iOS 18.2+)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"presentExternalPurchaseLinkIOS()"})," \u2014 Open external purchase link (iOS 16.0+)"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Transaction Management:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"clearTransactionIOS()"})," \u2014 Clear pending transactions"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getPromotedProductIOS()"})," \u2014 Get promoted product"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getPendingTransactionsIOS()"})," \u2014 Get pending transactions"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"subscriptionStatusIOS()"})," \u2014 Get subscription status"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"currentEntitlementIOS()"})," \u2014 Get current entitlement"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"showManageSubscriptionsIOS()"})," \u2014 Show subscription management"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"beginRefundRequestIOS()"})," \u2014 Request refund"]}),"\n",(0,r.jsx)(i.li,{children:"And more..."}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"android-specific",children:(0,r.jsx)(i.a,{href:"./android-specific",children:"Android Specific"})}),"\n",(0,r.jsx)(i.p,{children:"Google Play Billing specific capabilities:"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Alternative Billing:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"checkAlternativeBillingAvailabilityAndroid()"})," \u2014 Check if alternative billing is available"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"showAlternativeBillingDialogAndroid()"})," \u2014 Show required information dialog"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"createAlternativeBillingTokenAndroid()"})," \u2014 Generate reporting token"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Purchase Management:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"acknowledgePurchaseAndroid()"})," \u2014 Acknowledge non-consumable purchases"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"consumePurchaseAndroid()"})," \u2014 Consume consumable purchases"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"removed-apis",children:"Removed APIs"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"requestProducts()"})," \u2014 Removed in v3.0.0. Use ",(0,r.jsx)(i.code,{children:"fetchProducts({ skus, type })"})," instead."]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);