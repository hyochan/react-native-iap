"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[9742],{1850:(e,n,i)=>{i.d(n,{A:()=>s});i(6540);var r=i(6025),t=i(4848);const o={default:{url:"https://www.greatfrontend.com?fpr=hyo73"},coding:{url:"https://www.greatfrontend.com/prepare/coding?fpr=hyo73",title:"Coding Interview Questions",description:"Practice coding problems for technical interviews"},quiz:{url:"https://www.greatfrontend.com/questions/formats/quiz?fpr=hyo73",title:"Quiz Interview Questions",description:"Test your knowledge with quiz-style questions"},"system-design":{url:"https://www.greatfrontend.com/questions/formats/system-design?fpr=hyo73",title:"Front End System Design Questions",description:"Master system design for frontend applications"},behavioral:{url:"https://www.greatfrontend.com/behavioral-interview-playbook?fpr=hyo73",title:"Behavioral Interview Questions",description:"Prepare for behavioral interview questions"},"interview-guide":{url:"https://www.greatfrontend.com/front-end-interview-playbook?fpr=hyo73",title:"Front End Interview Guidebook",description:"Complete guide to frontend interviews"},"system-design-guide":{url:"https://www.greatfrontend.com/front-end-system-design-playbook?fpr=hyo73",title:"Front End System Design Guidebook",description:"Comprehensive system design guide"},"study-plan":{url:"https://www.greatfrontend.com/interviews/study-plans?fpr=hyo73",title:"Study Plan",description:"Structured learning paths for interview preparation"},questions:{url:"https://www.greatfrontend.com/questions?fpr=hyo73",title:"Framework-specific Practice Questions",description:"Practice questions for popular frameworks"},javascript:{url:"https://www.greatfrontend.com/questions/js?fpr=hyo73",title:"JavaScript Interview Questions",description:"Master JavaScript for technical interviews"},react:{url:"https://www.greatfrontend.com/questions/react?fpr=hyo73",title:"React Interview Questions",description:"Prepare for React-specific interviews"}};function s({type:e="default",className:n="greatfrontend-banner",style:i}){const s=o[e],a=(0,r.Ay)("/img/greatfrontend-js.gif");return(0,t.jsxs)("div",{className:n,style:{marginTop:0,marginBottom:12,textAlign:"center",...i},children:[(0,t.jsx)("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",textDecoration:"none"},children:(0,t.jsx)("img",{src:a,alt:"GreatFrontEnd",style:{maxWidth:"100%",height:"auto",border:"none",display:"block"}})}),s.title&&(0,t.jsx)("div",{style:{marginTop:0,fontSize:"0.85em"},children:(0,t.jsx)("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--ifm-color-primary)",textDecoration:"underline",fontWeight:500,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.textDecoration="underline",e.currentTarget.style.opacity="0.8"},onMouseLeave:e=>{e.currentTarget.style.textDecoration="underline",e.currentTarget.style.opacity="1"},children:s.title})})]})}},2175:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"getting-started/setup-horizon","title":"Horizon OS","description":"This guide covers setting up react-native-iap for Meta Quest devices running Horizon OS. Horizon OS uses Meta\'s Platform SDK for in-app purchases instead of Google Play Billing.","source":"@site/versioned_docs/version-14.5/getting-started/setup-horizon.md","sourceDirName":"getting-started","slug":"/getting-started/setup-horizon","permalink":"/react-native-iap/docs/getting-started/setup-horizon","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/versioned_docs/version-14.5/getting-started/setup-horizon.md","tags":[],"version":"14.5","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Android Setup","permalink":"/react-native-iap/docs/getting-started/setup-android"},"next":{"title":"Purchases","permalink":"/react-native-iap/docs/guides/purchases"}}');var t=i(4848),o=i(8453),s=i(2725);const a={sidebar_position:4},d="Horizon OS",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"React Native IAP Configuration",id:"react-native-iap-configuration",level:2},{value:"1. Enable Horizon Mode",id:"1-enable-horizon-mode",level:3},{value:"2. Add Horizon App ID to AndroidManifest.xml",id:"2-add-horizon-app-id-to-androidmanifestxml",level:3},{value:"3. Clean and Rebuild",id:"3-clean-and-rebuild",level:3},{value:"Code Integration",id:"code-integration",level:2},{value:"Build Configuration",id:"build-configuration",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Activity not available&quot; Error",id:"activity-not-available-error",level:3},{value:"Product IDs Not Found",id:"product-ids-not-found",level:3},{value:"Wrong Artifact Being Used",id:"wrong-artifact-being-used",level:3},{value:"Next Steps",id:"next-steps",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"horizon-os",children:"Horizon OS"})}),"\n",(0,t.jsx)(s.A,{}),"\n",(0,t.jsx)(n.p,{children:"This guide covers setting up react-native-iap for Meta Quest devices running Horizon OS. Horizon OS uses Meta's Platform SDK for in-app purchases instead of Google Play Billing."}),"\n",(0,t.jsxs)(n.admonition,{title:"OpenIAP Horizon Setup",type:"info",children:[(0,t.jsx)(n.p,{children:"For detailed Horizon OS setup instructions including environment configuration, SDK setup, and platform integration details, refer to the official OpenIAP documentation:"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"https://www.openiap.dev/docs/horizon-setup",children:"OpenIAP Horizon OS Setup Guide"})})}),(0,t.jsx)(n.p,{children:"This guide focuses on react-native-iap specific configuration."})]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Meta Quest Developer account"}),"\n",(0,t.jsx)(n.li,{children:"App created in Meta Quest Developer Hub"}),"\n",(0,t.jsx)(n.li,{children:"Quest device or Quest Link for testing"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"react-native-iap-configuration",children:"React Native IAP Configuration"}),"\n",(0,t.jsxs)(n.admonition,{title:"Example Configuration",type:"tip",children:[(0,t.jsx)(n.p,{children:"You can refer to the example app for a working configuration. See the commented sections in:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/blob/main/example/android/gradle.properties",children:(0,t.jsx)(n.code,{children:"example/android/gradle.properties"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/blob/main/example/android/app/src/main/AndroidManifest.xml",children:(0,t.jsx)(n.code,{children:"example/android/app/src/main/AndroidManifest.xml"})})}),"\n"]})]}),"\n",(0,t.jsx)(n.h3,{id:"1-enable-horizon-mode",children:"1. Enable Horizon Mode"}),"\n",(0,t.jsxs)(n.p,{children:["Add ",(0,t.jsx)(n.code,{children:"horizonEnabled=true"})," to your ",(0,t.jsx)(n.code,{children:"android/gradle.properties"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-properties",children:"# Enable Horizon OS support (Meta Quest)\nhorizonEnabled=true\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-add-horizon-app-id-to-androidmanifestxml",children:"2. Add Horizon App ID to AndroidManifest.xml"}),"\n",(0,t.jsxs)(n.p,{children:["Add the Horizon App ID metadata to your ",(0,t.jsx)(n.code,{children:"android/app/src/main/AndroidManifest.xml"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<application>\n  \x3c!-- Other configurations --\x3e\n\n  \x3c!-- Meta Horizon App ID (required for Horizon OS) --\x3e\n  <meta-data\n    android:name="com.meta.horizon.platform.ovr.OCULUS_APP_ID"\n    android:value="YOUR_HORIZON_APP_ID" />\n</application>\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Get your App ID from ",(0,t.jsx)(n.a,{href:"https://developer.oculus.com/",children:"Meta Quest Developer Hub"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"3-clean-and-rebuild",children:"3. Clean and Rebuild"}),"\n",(0,t.jsx)(n.p,{children:"After configuration, clean and rebuild your app:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd android\n./gradlew clean\ncd ..\nnpx react-native run-android\n"})}),"\n",(0,t.jsx)(n.p,{children:"This will:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"openiap-google-horizon"})," artifact instead of ",(0,t.jsx)(n.code,{children:"openiap-google"})]}),"\n",(0,t.jsx)(n.li,{children:"Add Horizon Platform SDK dependencies"}),"\n",(0,t.jsx)(n.li,{children:"Configure the app with your Horizon App ID"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"code-integration",children:"Code Integration"}),"\n",(0,t.jsx)(n.p,{children:"The code integration for Horizon OS is identical to standard Android integration. react-native-iap handles the platform differences automatically."}),"\n",(0,t.jsxs)(n.p,{children:["Use the same ",(0,t.jsx)(n.code,{children:"useIAP"})," hook and API methods as you would for Android or iOS. See the ",(0,t.jsx)(n.a,{href:"../guides/purchases",children:"Purchases Guide"})," for complete examples."]}),"\n",(0,t.jsx)(n.h2,{id:"build-configuration",children:"Build Configuration"}),"\n",(0,t.jsx)(n.p,{children:"When you enable Horizon mode, react-native-iap automatically:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Adds Dependencies"}),": Includes Horizon Platform SDK and Horizon Billing SDK"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Uses Correct Artifact"}),": Switches to ",(0,t.jsx)(n.code,{children:"openiap-google-horizon"})," instead of ",(0,t.jsx)(n.code,{children:"openiap-google"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Configures AndroidManifest"}),": Your manually added Horizon App ID is used"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"You can verify the configuration by checking:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check gradle.properties\ncat android/gradle.properties | grep horizonEnabled\n\n# Check dependency tree\ncd android && ./gradlew :react-native-iap:dependencies --configuration debugRuntimeClasspath | grep openiap-google\n"})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"activity-not-available-error",children:'"Activity not available" Error'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": This was fixed in react-native-iap 14.4.31+. Update to the latest version:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-native-iap@latest\n# or\nyarn add react-native-iap@latest\n"})}),"\n",(0,t.jsx)(n.h3,{id:"product-ids-not-found",children:"Product IDs Not Found"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Verify product IDs match in Meta Quest Developer Hub"}),"\n",(0,t.jsx)(n.li,{children:"Ensure products are published and active"}),"\n",(0,t.jsx)(n.li,{children:"Check that your Horizon App ID is correct in AndroidManifest.xml"}),"\n",(0,t.jsxs)(n.li,{children:["Clean and rebuild: ",(0,t.jsx)(n.code,{children:"cd android && ./gradlew clean"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"wrong-artifact-being-used",children:"Wrong Artifact Being Used"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Check that ",(0,t.jsx)(n.code,{children:"horizonEnabled=true"})," is in ",(0,t.jsx)(n.code,{children:"android/gradle.properties"})]}),"\n",(0,t.jsxs)(n.li,{children:["Clean build: ",(0,t.jsx)(n.code,{children:"cd android && ./gradlew clean"})]}),"\n",(0,t.jsx)(n.li,{children:"Check build logs to verify correct artifact is being used"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../guides/purchases",children:"Purchases Guide"})," - Learn how to implement purchases"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../api/error-codes",children:"Error Codes"})," - Understand error handling"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.openiap.dev/docs/horizon-setup",children:"OpenIAP Horizon Setup"})," - Detailed platform setup"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},2725:(e,n,i)=>{i.d(n,{A:()=>a});var r=i(1850),t=i(6540),o=i(4848);const s=["coding","quiz","system-design","behavioral","interview-guide","system-design-guide","study-plan","questions","javascript","react"];function a(){const e=(0,t.useMemo)(()=>{const e=Math.floor(Math.random()*s.length);return s[e]},[]);return(0,o.jsx)(r.A,{type:e})}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var r=i(6540);const t={},o=r.createContext(t);function s(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);