"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[5029],{27856:(e,i,t)=>{t.d(i,{I:()=>r,V:()=>n});const n="https://iapkit.com",r="https://www.hyo.dev/api/ad-banner/cmjf0l2460003249hfyh029dm"},28453:(e,i,t)=>{t.d(i,{R:()=>s,x:()=>l});var n=t(96540);const r={},a=n.createContext(r);function s(e){const i=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(a.Provider,{value:i},e.children)}},33432:e=>{e.exports=JSON.parse('{"permalink":"/react-native-iap/blog/release-14.5.0","editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/blog/2025-12-09-release-14.5.0-iapkit.md","source":"@site/blog/2025-12-09-release-14.5.0-iapkit.md","title":"14.5.0 - Built-in Purchase Verification (aka Receipt Validation)","description":"React Native IAP 14.5.0 brings built-in purchase verification (aka receipt validation) powered by IAPKit. Verify purchases with enterprise-grade backend validation using a single API call\u2014no server setup required.","date":"2025-12-09T00:00:00.000Z","tags":[{"inline":false,"label":"Release","permalink":"/react-native-iap/blog/tags/release","description":"New version releases and updates"},{"inline":false,"label":"IAPKit","permalink":"/react-native-iap/blog/tags/iapkit","description":"IAPKit verification service integration"},{"inline":false,"label":"Verification","permalink":"/react-native-iap/blog/tags/verification","description":"Purchase verification and validation"},{"inline":false,"label":"Backend","permalink":"/react-native-iap/blog/tags/backend","description":"Backend integration and server-side features"},{"inline":false,"label":"Security","permalink":"/react-native-iap/blog/tags/security","description":"Security features and best practices"}],"readingTime":2.37,"hasTruncateMarker":true,"authors":[{"name":"Hyo","title":"React Native IAP Maintainer","url":"https://github.com/hyochan","page":{"permalink":"/react-native-iap/blog/authors/hyochan"},"socials":{"github":"https://github.com/hyochan","linkedin":"https://www.linkedin.com/in/hyochanjang/","x":"https://x.com/hyodotdev"},"imageURL":"https://github.com/hyochan.png","key":"hyochan"}],"frontMatter":{"slug":"release-14.5.0","title":"14.5.0 - Built-in Purchase Verification (aka Receipt Validation)","authors":["hyochan"],"tags":["release","iapkit","verification","backend","security"],"description":"React Native IAP 14.5.0 brings built-in purchase verification (aka receipt validation) powered by IAPKit. Verify purchases with enterprise-grade backend validation using a single API call\u2014no server setup required.","image":"/img/iapkit.png","date":"2025-12-09T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"14.6.0 - Billing Programs API & Android Discounts","permalink":"/react-native-iap/blog/release-14.6.0"},"nextItem":{"title":"14.4.33 - Horizon OS Support","permalink":"/react-native-iap/blog/14.4.33"}}')},66075:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/iapkit-5cbde09280dae067d71dcd5653b53d16.png"},71437:(e,i,t)=>{t.d(i,{A:()=>s});var n=t(96540),r=t(27856),a=t(74848);function s({children:e,className:i,style:t}){const s=(0,n.useCallback)(()=>{fetch(r.I,{method:"POST",mode:"no-cors"}).catch(()=>{})},[]);return(0,a.jsx)("a",{href:r.V,target:"_blank",rel:"noopener noreferrer",onClick:s,className:i,style:t,children:e})}},98549:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>o});var n=t(33432),r=t(74848),a=t(28453),s=t(71437);const l={slug:"release-14.5.0",title:"14.5.0 - Built-in Purchase Verification (aka Receipt Validation)",authors:["hyochan"],tags:["release","iapkit","verification","backend","security"],description:"React Native IAP 14.5.0 brings built-in purchase verification (aka receipt validation) powered by IAPKit. Verify purchases with enterprise-grade backend validation using a single API call\u2014no server setup required.",image:"/img/iapkit.png",date:new Date("2025-12-09T00:00:00.000Z")},c="React Native IAP 14.5.0",d={authorsImageUrls:[void 0]},o=[{value:"Why <IapKitLink>IAPKit</IapKitLink>?",id:"why-iapkit",level:2},{value:"Key Benefits",id:"key-benefits",level:3},{value:"Getting Started",id:"getting-started",level:2},{value:"\ud83d\ude80 Highlights",id:"-highlights",level:2},{value:"\ud83d\udd01 Type System Updates",id:"-type-system-updates",level:2},{value:"New <code>IapStore</code> Type",id:"new-iapstore-type",level:3},{value:"Updated Purchase Type",id:"updated-purchase-type",level:3},{value:"Request Parameters",id:"request-parameters",level:3},{value:"\ud83d\udce6 Installation",id:"-installation",level:2},{value:"\ud83d\udd17 References",id:"-references",level:2}];function p(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.p,{children:(0,r.jsx)(i.img,{alt:"IAPKit Integration",src:t(66075).A+"",width:"1024",height:"1024"})}),"\n",(0,r.jsxs)(i.p,{children:["React Native IAP 14.5.0 brings ",(0,r.jsx)(i.strong,{children:"built-in purchase verification"})," (aka receipt validation) powered by ",(0,r.jsx)(s.A,{children:"IAPKit"}),". Now you can verify purchases with enterprise-grade backend validation using a single API call\u2014no server setup required."]}),"\n",(0,r.jsxs)(i.h2,{id:"why-iapkit",children:["Why ",(0,r.jsx)(s.A,{children:"IAPKit"}),"?"]}),"\n",(0,r.jsxs)(i.p,{children:["Purchase verification is critical for any production IAP implementation. Without proper server-side validation, your app is vulnerable to receipt tampering, replay attacks, and fraudulent transactions. ",(0,r.jsx)(s.A,{children:"IAPKit"})," solves this with a battle-tested backend infrastructure. Sign up at ",(0,r.jsx)(s.A,{children:"iapkit.com"})," to get your API key and start verifying purchases in minutes."]}),"\n",(0,r.jsx)(i.h3,{id:"key-benefits",children:"Key Benefits"}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{style:{textAlign:"center"}}),(0,r.jsx)(i.th,{style:{textAlign:"left"},children:"Benefit"}),(0,r.jsx)(i.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{style:{textAlign:"center"},children:(0,r.jsx)(i.strong,{children:"\ud83d\udd12"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:(0,r.jsx)(i.strong,{children:"Security First"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:"Server-side validation that prevents fraud, receipt tampering, and token reuse. Far more secure than client-only verification."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{style:{textAlign:"center"},children:(0,r.jsx)(i.strong,{children:"\ud83d\udd17"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:(0,r.jsx)(i.strong,{children:"Unified API"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:"Single endpoint for both Apple App Store and Google Play. No separate validation logic needed."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{style:{textAlign:"center"},children:(0,r.jsx)(i.strong,{children:"\u26a1"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:(0,r.jsx)(i.strong,{children:"Zero Infrastructure"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:"No server setup required. IAPKit handles Apple and Google API complexity for you."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{style:{textAlign:"center"},children:(0,r.jsx)(i.strong,{children:"\ud83d\ude80"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:(0,r.jsx)(i.strong,{children:"Production Ready"})}),(0,r.jsx)(i.td,{style:{textAlign:"left"},children:"Enterprise-grade reliability with comprehensive error handling and detailed responses."})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,r.jsxs)(i.p,{children:["Use the new ",(0,r.jsx)(i.code,{children:"verifyPurchaseWithProvider"})," API to verify purchases through IAPKit:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-typescript",children:"import {verifyPurchaseWithProvider} from 'react-native-iap';\n\n// apiKey can be omitted if configured via Expo config plugin\nconst result = await verifyPurchaseWithProvider({\n  provider: 'iapkit',\n  iapkit: {\n    apiKey: 'your-iapkit-api-key', // Optional since v14.6.1 if set in config plugin\n    apple: {jws: purchase.purchaseToken!},\n    google: {purchaseToken: purchase.purchaseToken!},\n  },\n});\n\nif (result.iapkit?.isValid) {\n  // Purchase verified - grant entitlement\n  console.log('Purchase state:', result.iapkit.state);\n  console.log('Store:', result.iapkit.store);\n}\n"})}),"\n",(0,r.jsxs)(i.p,{children:["The API returns a unified ",(0,r.jsx)(i.code,{children:"VerifyPurchaseWithProviderResult"})," with:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"isValid"})," - Whether the purchase passed verification"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"state"})," - Detailed purchase state (entitled, pending, expired, canceled, etc.)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"store"})," - The store where the purchase was made (apple, google, horizon)"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"-highlights",children:"\ud83d\ude80 Highlights"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"IAPKit Integration"})," \u2014 Built-in purchase verification (aka receipt validation) with enterprise-grade backend"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"OpenIAP 1.3.0"})," \u2014 Updated to openiap-apple v1.3.0, openiap-google v1.3.10, and openiap-gql v1.3.0"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsxs)(i.strong,{children:["New ",(0,r.jsx)(i.code,{children:"IapStore"})," Type"]})," \u2014 Unified store identification: ",(0,r.jsx)(i.code,{children:"'unknown' | 'apple' | 'google' | 'horizon'"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Enhanced Purchase Types"})," \u2014 New ",(0,r.jsx)(i.code,{children:"store"})," field on Purchase (replaces deprecated ",(0,r.jsx)(i.code,{children:"platform"}),")"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"-type-system-updates",children:"\ud83d\udd01 Type System Updates"}),"\n",(0,r.jsx)(i.p,{children:"This release brings important type refinements aligned with the OpenIAP 1.3.0 specification:"}),"\n",(0,r.jsxs)(i.h3,{id:"new-iapstore-type",children:["New ",(0,r.jsx)(i.code,{children:"IapStore"})," Type"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-typescript",children:"export type IapStore = 'unknown' | 'apple' | 'google' | 'horizon';\n"})}),"\n",(0,r.jsx)(i.h3,{id:"updated-purchase-type",children:"Updated Purchase Type"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-typescript",children:"export interface Purchase {\n  // ...existing fields\n  store: IapStore; // NEW - unified store identification\n  platform: IapPlatform; // @deprecated - use store instead\n}\n"})}),"\n",(0,r.jsx)(i.h3,{id:"request-parameters",children:"Request Parameters"}),"\n",(0,r.jsxs)(i.p,{children:["Request parameters now support ",(0,r.jsx)(i.code,{children:"apple"}),"/",(0,r.jsx)(i.code,{children:"google"})," keys alongside the legacy ",(0,r.jsx)(i.code,{children:"ios"}),"/",(0,r.jsx)(i.code,{children:"android"}),":"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-typescript",children:"// New (recommended)\nrequestPurchase({\n  request: {\n    apple: {sku: productId},\n    google: {skus: [productId]},\n  },\n  type: 'in-app',\n});\n\n// Legacy (still supported but deprecated)\nrequestPurchase({\n  request: {\n    ios: {sku: productId},\n    android: {skus: [productId]},\n  },\n  type: 'in-app',\n});\n"})}),"\n",(0,r.jsx)(i.h2,{id:"-installation",children:"\ud83d\udce6 Installation"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"npm install react-native-iap@14.5.0\n# or\nyarn add react-native-iap@14.5.0\n# or\nbun add react-native-iap@14.5.0\n"})}),"\n",(0,r.jsx)(i.h2,{id:"-references",children:"\ud83d\udd17 References"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(s.A,{children:"IAPKit Documentation"}),"\n"]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"/docs/api/methods/core-methods#verifypurchasewithprovider",children:"verifyPurchaseWithProvider API"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://openiap.dev",children:"OpenIAP Ecosystem"})}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["Questions or feedback? Reach out via ",(0,r.jsx)(i.a,{href:"https://github.com/hyochan/react-native-iap/issues",children:"GitHub issues"}),"."]})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);