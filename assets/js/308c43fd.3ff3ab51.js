"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[8896],{1850:(e,r,n)=>{n.d(r,{A:()=>i});n(6540);var t=n(6025),o=n(4848);const s={default:{url:"https://www.greatfrontend.com?fpr=hyo73"},coding:{url:"https://www.greatfrontend.com/prepare/coding?fpr=hyo73",title:"Coding Interview Questions",description:"Practice coding problems for technical interviews"},quiz:{url:"https://www.greatfrontend.com/questions/formats/quiz?fpr=hyo73",title:"Quiz Interview Questions",description:"Test your knowledge with quiz-style questions"},"system-design":{url:"https://www.greatfrontend.com/questions/formats/system-design?fpr=hyo73",title:"Front End System Design Questions",description:"Master system design for frontend applications"},behavioral:{url:"https://www.greatfrontend.com/behavioral-interview-playbook?fpr=hyo73",title:"Behavioral Interview Questions",description:"Prepare for behavioral interview questions"},"interview-guide":{url:"https://www.greatfrontend.com/front-end-interview-playbook?fpr=hyo73",title:"Front End Interview Guidebook",description:"Complete guide to frontend interviews"},"system-design-guide":{url:"https://www.greatfrontend.com/front-end-system-design-playbook?fpr=hyo73",title:"Front End System Design Guidebook",description:"Comprehensive system design guide"},"study-plan":{url:"https://www.greatfrontend.com/interviews/study-plans?fpr=hyo73",title:"Study Plan",description:"Structured learning paths for interview preparation"},questions:{url:"https://www.greatfrontend.com/questions?fpr=hyo73",title:"Framework-specific Practice Questions",description:"Practice questions for popular frameworks"},javascript:{url:"https://www.greatfrontend.com/questions/js?fpr=hyo73",title:"JavaScript Interview Questions",description:"Master JavaScript for technical interviews"},react:{url:"https://www.greatfrontend.com/questions/react?fpr=hyo73",title:"React Interview Questions",description:"Prepare for React-specific interviews"}};function i({type:e="default",className:r="greatfrontend-banner",style:n}){const i=s[e],a=(0,t.Ay)("/img/greatfrontend-js.gif");return(0,o.jsxs)("div",{className:r,style:{marginTop:0,marginBottom:12,textAlign:"center",...n},children:[(0,o.jsx)("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",textDecoration:"none"},children:(0,o.jsx)("img",{src:a,alt:"GreatFrontEnd",style:{maxWidth:"100%",height:"auto",border:"none",display:"block"}})}),i.title&&(0,o.jsx)("div",{style:{marginTop:0,fontSize:"0.85em"},children:(0,o.jsx)("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--ifm-color-primary)",textDecoration:"underline",fontWeight:500,cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.textDecoration="underline",e.currentTarget.style.opacity="0.8"},onMouseLeave:e=>{e.currentTarget.style.textDecoration="underline",e.currentTarget.style.opacity="1"},children:i.title})})]})}},2725:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(1850),o=n(6540),s=n(4848);const i=["coding","quiz","system-design","behavioral","interview-guide","system-design-guide","study-plan","questions","javascript","react"];function a(){const e=(0,o.useMemo)(()=>{const e=Math.floor(Math.random()*i.length);return i[e]},[]);return(0,s.jsx)(t.A,{type:e})}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>a});var t=n(6540);const o={},s=t.createContext(o);function i(e){const r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(s.Provider,{value:r},e.children)}},8848:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"api/error-handling","title":"Error Handling","description":"All methods can throw errors that should be handled appropriately. Use the PurchaseError type and helper functions for consistent, cross\u2011platform error information.","source":"@site/docs/api/error-handling.md","sourceDirName":"api","slug":"/api/error-handling","permalink":"/react-native-iap/docs/api/error-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/docs/api/error-handling.md","tags":[],"version":"current","frontMatter":{"title":"Error Handling","sidebar_label":"Error Handling"},"sidebar":"tutorialSidebar","previous":{"title":"Error Codes","permalink":"/react-native-iap/docs/api/error-codes"},"next":{"title":"Purchase Flow","permalink":"/react-native-iap/docs/examples/purchase-flow"}}');var o=n(4848),s=n(8453),i=n(2725);const a={title:"Error Handling",sidebar_label:"Error Handling"},c="Error Handling",l={},d=[{value:"Error Types",id:"error-types",level:2},{value:"PurchaseError",id:"purchaseerror",level:3},{value:"ErrorCode Enum",id:"errorcode-enum",level:3},{value:"Error Codes",id:"error-codes",level:2}];function p(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,o.jsx)(i.A,{}),"\n",(0,o.jsxs)(r.p,{children:["All methods can throw errors that should be handled appropriately. Use the ",(0,o.jsx)(r.code,{children:"PurchaseError"})," type and helper functions for consistent, cross\u2011platform error information."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:"import {\n  PurchaseError,\n  requestPurchase,\n  isUserCancelledError,\n  isNetworkError,\n  getUserFriendlyErrorMessage,\n  ErrorCode,\n} from 'react-native-iap';\n\ntry {\n  await requestPurchase({request: {sku: 'product_id'}});\n} catch (error) {\n  // Check for user cancellation\n  if (isUserCancelledError(error)) {\n    console.log('User cancelled purchase');\n    return;\n  }\n\n  // Check for network errors\n  if (isNetworkError(error)) {\n    console.log('Network error, please try again');\n    return;\n  }\n\n  // Get user-friendly error message\n  const friendlyMessage = getUserFriendlyErrorMessage(error);\n  console.error('Purchase failed:', friendlyMessage);\n\n  // Or access error details directly\n  if (error instanceof PurchaseError) {\n    console.error(`Error code: ${error.code}, Message: ${error.message}`);\n  }\n}\n"})}),"\n",(0,o.jsx)(r.h2,{id:"error-types",children:"Error Types"}),"\n",(0,o.jsx)(r.h3,{id:"purchaseerror",children:"PurchaseError"}),"\n",(0,o.jsxs)(r.p,{children:["The ",(0,o.jsx)(r.code,{children:"PurchaseError"})," interface extends the standard ",(0,o.jsx)(r.code,{children:"Error"})," class with additional purchase-specific properties:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:"interface PurchaseError extends Error {\n  code?: ErrorCode;\n  responseCode?: number;\n  debugMessage?: string;\n  productId?: string;\n  platform?: IapPlatform;\n}\n"})}),"\n",(0,o.jsx)(r.h3,{id:"errorcode-enum",children:"ErrorCode Enum"}),"\n",(0,o.jsxs)(r.p,{children:["Use the ",(0,o.jsx)(r.code,{children:"ErrorCode"})," enum for type-safe error code comparisons:"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:"import {ErrorCode} from 'react-native-iap';\n\nif (error instanceof PurchaseError && error.code === ErrorCode.UserCancelled) {\n  // Handle user cancellation\n}\n"})}),"\n",(0,o.jsx)(r.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,o.jsx)(r.p,{children:"For the complete list of error codes and their meanings, see the reference below."}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:(0,o.jsx)(r.a,{href:"./error-codes",children:"Error Codes"})}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}}}]);