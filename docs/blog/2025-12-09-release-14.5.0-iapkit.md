---
slug: release-14.5.0
title: 14.5.0 - Built-in Purchase Verification (aka Receipt Validation)
authors: [hyochan]
tags: [release, iapkit, verification, backend, security]
description: React Native IAP 14.5.0 brings built-in purchase verification (aka receipt validation) powered by IAPKit. Verify purchases with enterprise-grade backend validation using a single API call‚Äîno server setup required.
image: /img/iapkit.png
date: 2025-12-09
---

![IAPKit Integration](/img/iapkit.png)

# React Native IAP 14.5.0

React Native IAP 14.5.0 brings **built-in purchase verification** (aka receipt validation) powered by [IAPKit](https://iapkit.com). Now you can verify purchases with enterprise-grade backend validation using a single API call‚Äîno server setup required.

<!-- truncate -->

## Why [IAPKit](https://iapkit.com)?

Purchase verification is critical for any production IAP implementation. Without proper server-side validation, your app is vulnerable to receipt tampering, replay attacks, and fraudulent transactions. [IAPKit](https://iapkit.com) solves this with a battle-tested backend infrastructure. Sign up at [iapkit.com](https://iapkit.com) to get your API key and start verifying purchases in minutes.

### Key Benefits

| | Benefit | Description |
|:---:|:---|:---|
| **üîí** | **Security First** | Server-side validation that prevents fraud, receipt tampering, and token reuse. Far more secure than client-only verification. |
| **üîó** | **Unified API** | Single endpoint for both Apple App Store and Google Play. No separate validation logic needed. |
| **‚ö°** | **Zero Infrastructure** | No server setup required. IAPKit handles Apple and Google API complexity for you. |
| **üöÄ** | **Production Ready** | Enterprise-grade reliability with comprehensive error handling and detailed responses. |

## Getting Started

Use the new `verifyPurchaseWithProvider` API to verify purchases through IAPKit:

```typescript
import {verifyPurchaseWithProvider} from 'react-native-iap';

// apiKey can be omitted if configured via Expo config plugin
const result = await verifyPurchaseWithProvider({
  provider: 'iapkit',
  iapkit: {
    apiKey: 'your-iapkit-api-key', // Optional since v14.6.1 if set in config plugin
    apple: {jws: purchase.purchaseToken!},
    google: {purchaseToken: purchase.purchaseToken!},
  },
});

if (result.iapkit?.isValid) {
  // Purchase verified - grant entitlement
  console.log('Purchase state:', result.iapkit.state);
  console.log('Store:', result.iapkit.store);
}
```

The API returns a unified `VerifyPurchaseWithProviderResult` with:

- `isValid` - Whether the purchase passed verification
- `state` - Detailed purchase state (entitled, pending, expired, canceled, etc.)
- `store` - The store where the purchase was made (apple, google, horizon)

## üöÄ Highlights

- **IAPKit Integration** ‚Äî Built-in purchase verification (aka receipt validation) with enterprise-grade backend
- **OpenIAP 1.3.0** ‚Äî Updated to openiap-apple v1.3.0, openiap-google v1.3.10, and openiap-gql v1.3.0
- **New `IapStore` Type** ‚Äî Unified store identification: `'unknown' | 'apple' | 'google' | 'horizon'`
- **Enhanced Purchase Types** ‚Äî New `store` field on Purchase (replaces deprecated `platform`)

## üîÅ Type System Updates

This release brings important type refinements aligned with the OpenIAP 1.3.0 specification:

### New `IapStore` Type

```typescript
export type IapStore = 'unknown' | 'apple' | 'google' | 'horizon';
```

### Updated Purchase Type

```typescript
export interface Purchase {
  // ...existing fields
  store: IapStore; // NEW - unified store identification
  platform: IapPlatform; // @deprecated - use store instead
}
```

### Request Parameters

Request parameters now support `apple`/`google` keys alongside the legacy `ios`/`android`:

```typescript
// New (recommended)
requestPurchase({
  request: {
    apple: {sku: productId},
    google: {skus: [productId]},
  },
  type: 'in-app',
});

// Legacy (still supported but deprecated)
requestPurchase({
  request: {
    ios: {sku: productId},
    android: {skus: [productId]},
  },
  type: 'in-app',
});
```

## üì¶ Installation

```bash
npm install react-native-iap@14.5.0
# or
yarn add react-native-iap@14.5.0
# or
bun add react-native-iap@14.5.0
```

## üîó References

- [IAPKit Documentation](https://iapkit.com/docs)
- [verifyPurchaseWithProvider API](/docs/api/methods/core-methods#verifypurchasewithprovider)
- [OpenIAP Ecosystem](https://openiap.dev)

Questions or feedback? Reach out via [GitHub issues](https://github.com/hyochan/react-native-iap/issues).
